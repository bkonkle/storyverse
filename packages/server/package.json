{
  "name": "@bkonkle/storyverse-server",
  "version": "1.0.0",
  "description": "The Storyverse api server",
  "repository": {
    "type": "git",
    "url": "git@github.com:bkonkle/storyverse.git"
  },
  "author": "Brandon Konkle <brandon@konkle.us> (http://konkle.us)",
  "license": "MIT",
  "scripts": {
    "check.types": "cd ../../ && yarn check.types",
    "db.backup": "ts-node --transpile-only scripts/backup-db.ts",
    "db.functions": "ts-node --transpile-only scripts/db-functions.ts",
    "db.migrate": "knex migrate:latest && yarn db.functions",
    "db.migrate.dev": "dotenv -- sh -c 'DATABASE_URL=$DEV_DATABASE_URL yarn db.migrate'",
    "db.restore": "ts-node --transpile-only scripts/restore-db.ts",
    "db.create": "ts-node --transpile-only scripts/db-create.ts",
    "db.drop": "ts-node --transpile-only scripts/db-drop.ts",
    "db.reset": "yarn db.drop && yarn db.create && yarn db.migrate",
    "db.tunnel": "ts-node --transpile-only scripts/tunnel-db.ts",
    "dev": "yarn dev.watch",
    "dev.run": "NODE_ENV=development ts-node --transpile-only src/Server.ts",
    "dev.debug": "DEBUG=storyverse-server:*,graphile-build-pg:* yarn dev.watch",
    "dev.watch": "nodemon --exec yarn dev.run",
    "ecr.login": "eval $(aws ecr get-login --no-include-email --region us-west-2)",
    "ecr.build": "DOCKER_BUILDKIT=1 docker build -t storyverse-server .",
    "ecr.tag": "docker tag storyverse-server ${AWS_ACCOUNT_ID}.dkr.ecr.us-west-2.amazonaws.com/storyverse-server:${TAG:-latest}",
    "ecr.push": "docker push ${AWS_ACCOUNT_ID}.dkr.ecr.us-west-2.amazonaws.com/storyverse-server:${TAG:-latest}",
    "ecr.upload": "yarn ecr.tag && yarn ecr.push",
    "generate.schema": "graphql-codegen",
    "start": "node .build/src/Server.js",
    "test": "NODE_ENV=test jest",
    "test.watch": "yarn test --watch",
    "test.int": "NODE_ENV=test jest -c ./jest.integration.config.js --forceExit"
  },
  "dependencies": {
    "@graft/knex": "^1.0.1",
    "@graft/server": "^5.0.2",
    "debug": "^4.1.1",
    "dotenv": "^8.2.0",
    "express": "^4.17.1",
    "graphql": "14.5.8",
    "graphql-tag": "^2.10.1",
    "moment": "^2.24.0",
    "morgan": "^1.9.1",
    "ramda": "^0.27.0",
    "ts-parse-database-url": "^1.0.3"
  },
  "devDependencies": {
    "@graphql-codegen/add": "^1.8.3",
    "@graphql-codegen/cli": "^1.8.3",
    "@graphql-codegen/typescript": "^1.8.3",
    "@graphql-codegen/typescript-operations": "^1.8.3",
    "@graphql-codegen/typescript-urql": "^1.8.3",
    "supertest": "^4.0.2"
  },
  "resolutions": {
    "graphql": "14.5.8",
    "mem": "^4.0.0"
  }
}
