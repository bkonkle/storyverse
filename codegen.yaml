schema:
  - apps/api/src/**/*.graphql
documents:
  - libs/graphql/**/*.graphql
generates:
  libs/graphql/src/ApiSchema.ts:
    hooks:
      afterOneFileWrite:
        - prettier --write
    plugins:
      - add:
          content: '/* eslint-disable @typescript-eslint/ban-types,@typescript-eslint/no-explicit-any */'
      - add:
          content: '// WARNING: This file is automatically generated. Do not edit.'
      - add:
          content: import {JsonValue, JsonArray, JsonObject} from '@storyverse/shared/config/types'
      - typescript
      - typescript-resolvers
    config:
      useIndexSignature: true
      noSchemaStitching: true
      scalars:
        DateTime: Date
        JSON: JsonValue | JsonArray | JsonObject
        JSONObject: JsonObject
  libs/graphql/src/Schema.tsx:
    hooks:
      afterOneFileWrite:
        - prettier --write
    plugins:
      - add:
          content: '// WARNING: This file is automatically generated. Do not edit.'
      - add:
          content: import {JsonValue, JsonArray, JsonObject} from '@storyverse/shared/config/types'
      - typescript
      - typescript-operations
      - typescript-urql
    config:
      withComponent: false
      withHOC: false
      withHooks: true
      withMutationFn: false
      scalars:
        DateTime: Date
        JSON: JsonValue | JsonArray | JsonObject
        JSONObject: JsonObject
  schema.json:
    plugins:
      - introspection
    config:
      minify: true
  schema.graphql:
    plugins:
      - add:
          content: '# WARNING: This file is automatically generated. Do not edit.'
      - schema-ast
    config:
      includeDirectives: true
